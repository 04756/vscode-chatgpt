<h2 align="center"><img src="https://raw.githubusercontent.com/gencay/vscode-chatgpt/main/images/iconWhite.png" height="64"><br>Ask ChatGPT</h2>
<p align="center"><strong>ChatGPT conversations in Visual Studio Code</strong></p>

[![Badge for version for Visual Studio Code extension gencay.vscode-chatgpt](https://vsmarketplacebadges.dev/version/gencay.vscode-chatgpt.png)](https://marketplace.visualstudio.com/items?itemName=gencay.vscode-chatgpt)

# ChatGPT as your copilot to level up your developer experience

- ‚û°Ô∏è Export all your conversation history at once.
- üîÉ Option to clear and restart the conversation with ChatGPT.
- üçª Optimized for dialogue! Have a conversation with ChatGPT with follow-ups.
- üíØ Get help from ChatGPT within vs-code for implementing test cases, explaining it or finding bugs.
- üìù Create projects/files with one click using built-in actions in the conversation view.
- ‚ö° Built-in syntax highlighting for ChatGPT suggested code using the default code-font of your Visual Studio Code!
- üñºÔ∏è Icon is generated by dall-e-2.

<img src="https://raw.githubusercontent.com/gencay/vscode-chatgpt/main/images/chatgpt-gif.gif">

# Features

The extension comes with context menu commands, copy/move suggested code into editor with one-click, conversation window and customization options for OpenAI's ChatGPT prompts.

## ChatGPT conversation window in vs-code

### üÜï Export all your conversation history withs one click

<img src="https://raw.githubusercontent.com/gencay/vscode-chatgpt/main/images/export-convo.png">

---

### üçª Optimized for dialogue

<img src="https://raw.githubusercontent.com/gencay/vscode-chatgpt/main/images/conversation-mode-2.png">

---

### Edit and resend a previous prompt

<img src="https://raw.githubusercontent.com/gencay/vscode-chatgpt/main/images/edit-resend.png">

---

### Copy or insert the code ChatGPT is suggesting right into your editor.

<img src="https://raw.githubusercontent.com/gencay/vscode-chatgpt/main/images/code-actions.png">

---

### Ask free-form text questions that will be listed in the conversation window. The conversation is kept in cache until vs-code instance is closed.

<img src="https://raw.githubusercontent.com/gencay/vscode-chatgpt/main/images/rust.png">

---

# Use defaults or customize your code prompts

- `ChatGPT: Add Tests`: Write tests for you. Right click on a selected block of code, run command.
  - "default": "Implement tests for the following code",
  - "description": "The prompt prefix used for adding tests for the selected code"
- `ChatGPT: Find bugs`: Analyze and find bugs in your code. Right click on a selected block of code, run command.
  - "default": "Find problems with the following code",
  - "description": "The prompt prefix used for finding problems for the selected code"
- `ChatGPT: Optimize`: Add suggestions to your code to improve. Right click on a selected block of code, run command.
  - "default": "Optimize the following code",
  - "description": "The prompt prefix used for optimizing the selected code"
- `ChatGPT: Explain`: Explain the selected code. Right click on a selected block of code, run command.
  - "default": "Explain the following code",
  - "description": "The prompt prefix used for explaining the selected code"

## Other available commands

- `ChatGPT: Ask anything`: Free-form text questions within conversation window.
- `ChatGPT: Clear session`: Clears the current session. Useful in case of API errors.
- `ChatGPT: Clear conversation`: Clears the conversation window and resets the thread to start a new conversation with ChatGPT
- `ChatGPT: Export conversation`: Exports the whole conversation in Markdown for you to easily store and find the Q&A list.

## Customization settings

- You can configure the commands to use any prompts for the selected code!
- Opt-in to receive notification when ChatGPT sends you a message!

<img src="https://raw.githubusercontent.com/gencay/vscode-chatgpt/main/images/settings.png">

# Setup

1. Go to https://chat.openai.com and log in.
2. Open your browser's developer tools
   - Hit F12 to open the developer tools in most browsers
   - Alternatively, right click on the browser window and select `Inspect`
3. Go to `Application` -> `Cookies` -> `https://chat.openai.com`. You will need the following cookies:
   - `__Secure-next-auth.session-token`: The extension will use this to send prompts to ChatGPT
   - `cf_clearance`: CloudFlare clearance token. A security measure OpenAI put in place to block automated access.
4. Go to `Console` and type in the following code to get your `user-agent`
   - `navigator.userAgent`: This is your browser's user-agent, needed for CloudFlare clearance. Enter the value of `userAgent` when prompted by the extension. Copy its value **without single or double quotes**.
5. Now that you have all required session variables, run any command using the extension and you'll be asked to enter these values:
   - `__Secure-next-auth.session-token`: An encoded token starting with `ey***`
   - `cf_clearance`: An alpha-numeric token
   - `userAgent`

<img src="https://raw.githubusercontent.com/gencay/vscode-chatgpt/main/images/setup.png">

# Troubleshooting

- If the bot isn't responding, try clearing your cache by running the `ChatGPT: Clear session` command.
- It's possible that openai systems may experience issues responding to your queries due to high-traffic from time to time.
- If you get `ChatGPTAPI error 429`, it means that you are making Too Many Requests. Please wait and try again in a few moments. If it persists, restart your vs-code.
- If you see `ChatGPTAPI error terminated`, your requests are being throttled. Please try again later.

# Credits

- üíª Open AI ChatGPT: https://chat.openai.com/
- üñºÔ∏è Open AI Dall-E-2: https://openai.com/dall-e-2/
- üß™ This extension uses unofficial OpenAI APIs. https://github.com/transitive-bullshit/chatgpt-api
